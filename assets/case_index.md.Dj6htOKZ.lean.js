import{_ as r,c as n,I as A,w as o,l as e,a as D,D as a,o as s}from"./chunks/framework.CD3x4nof.js";const f=JSON.parse('{"title":"case","description":"","frontmatter":{},"headers":[],"relativePath":"case/index.md","filePath":"case/index.md","lastUpdated":1734924408000}'),i={name:"case/index.md"},l=e("h1",{id:"case",tabindex:"-1"},[D("case "),e("a",{class:"header-anchor",href:"#case","aria-label":'Permalink to "case"'},"​")],-1),c=e("h2",{id:"地图",tabindex:"-1"},[D("地图 "),e("a",{class:"header-anchor",href:"#地图","aria-label":'Permalink to "地图"'},"​")],-1),p=e("p",null,"map/index",-1),B=e("h2",{id:"飞线",tabindex:"-1"},[D("飞线 "),e("a",{class:"header-anchor",href:"#飞线","aria-label":'Permalink to "飞线"'},"​")],-1),C=e("p",null,"fly/index",-1);function d(E,u,m,g,F,h){const t=a("DocsCodeDemo");return s(),n("div",null,[l,c,A(t,{source:"%3Ctemplate%3E%0D%0A%20%20%3Cdiv%20ref%3D%22mapContainer%22%20class%3D%22map-container%22%20%2F%3E%0D%0A%3C%2Ftemplate%3E%0D%0A%0D%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0D%0A%2F*%20eslint-disable%20%40typescript-eslint%2Fban-ts-comment%20*%2F%0D%0Aimport%20type%20%7B%20ShallowRef%20%7D%20from%20'vue'%0D%0Aimport%20%7B%20ref%2C%20onMounted%2C%20shallowRef%20%7D%20from%20'vue'%0D%0Aimport%20type%20%7B%20DirectionalLight%2C%20MeshLambertMaterial%20%7D%20from%20'three'%0D%0Aimport%20%7B%0D%0A%20%20Group%2C%0D%0A%20%20Mesh%2C%0D%0A%20%20MeshPhysicalMaterial%2C%0D%0A%20%20TextureLoader%2C%0D%0A%20%20Vector2%2C%0D%0A%20%20Color%2C%0D%0A%20%20Shape%2C%0D%0A%20%20EllipseCurve%2C%0D%0A%20%20ExtrudeGeometry%2C%0D%0A%20%20SRGBColorSpace%2C%0D%0A%20%20FileLoader%0D%0A%7D%20from%20'three'%0D%0Aimport%20%7B%20PlusThree%2C%20getBox3%2C%20createCSS3DObject%20%7D%20from%20'plus-three'%0D%0Aimport%20%7B%20Tween%2C%20Group%20as%20TweenGroup%20%7D%20from%20'%40tweenjs%2Ftween.js'%0D%0Aimport%20%7B%20LightRing%20%7D%20from%20'..%2Ffly%2FLightRing2'%0D%0Aimport%20%7B%20Fly%20%7D%20from%20'..%2Ffly%2FFlyShader'%0D%0Aimport%20%7B%20getPoints%20%7D%20from%20'.%2FgetPoints'%0D%0Aimport%20%7B%20getOutLine%2C%20getLine%20%7D%20from%20'.%2Fshape'%0D%0Aimport%20type%20%7B%20Coord%20%7D%20from%20'.%2Ftype'%0D%0A%0D%0Aconst%20mapContainer%20%3D%20ref()%0D%0Aconst%20plusThree%20%3D%20shallowRef()%20as%20ShallowRef%3CPlusThree%3E%0D%0A%0D%0AonMounted(async%20()%20%3D%3E%20%7B%0D%0A%20%20const%20model%20%3D%20new%20Group()%0D%0A%20%20model.name%20%3D%20'rootModel'%0D%0A%0D%0A%20%20const%20loader%20%3D%20new%20FileLoader()%0D%0A%20%20loader.setResponseType('json')%0D%0A%0D%0A%20%20const%20data%20%3D%20(await%20loader.loadAsync('%2Fchina.json'))%20as%20any%0D%0A%0D%0A%20%20const%20centerPoints%3A%20Coord%5B%5D%20%3D%20%5B%5D%0D%0A%0D%0A%20%20%2F%2F%20%E8%AE%BF%E9%97%AE%E6%89%80%E6%9C%89%E5%9B%BD%E5%AE%B6%E8%BE%B9%E7%95%8C%E5%9D%90%E6%A0%87%E6%95%B0%E6%8D%AE%3Adata.features%0D%0A%20%20data.features.forEach((area%3A%20any)%20%3D%3E%20%7B%0D%0A%20%20%20%20%2F%2F%20%22Polygon%22%3A%E5%9B%BD%E5%AE%B6area%E6%9C%89%E4%B8%80%E4%B8%AA%E5%B0%81%E9%97%AD%E8%BD%AE%E5%BB%93%0D%0A%20%20%20%20%2F%2F%20%22MultiPolygon%22%3A%E5%9B%BD%E5%AE%B6area%E6%9C%89%E5%A4%9A%E4%B8%AA%E5%B0%81%E9%97%AD%E8%BD%AE%E5%BB%93%0D%0A%0D%0A%20%20%20%20const%20center%20%3D%20area.properties.center%0D%0A%0D%0A%20%20%20%20const%20not%20%3D%0D%0A%20%20%20%20%20%20area.properties.name%20!%3D%3D%20'%E9%A6%99%E6%B8%AF%E7%89%B9%E5%88%AB%E8%A1%8C%E6%94%BF%E5%8C%BA'%20%26%26%20area.properties.name%20!%3D%3D%20'%E6%BE%B3%E9%97%A8%E7%89%B9%E5%88%AB%E8%A1%8C%E6%94%BF%E5%8C%BA'%0D%0A%0D%0A%20%20%20%20if%20(center%20%26%26%20not)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20%E6%8A%8A%22Polygon%22%E5%92%8C%22MultiPolygon%22%E7%9A%84geometry.coordinates%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%84%E7%90%86%E4%B8%BA%E4%B8%80%E8%87%B4%0D%0A%20%20%20%20%20%20const%20coordinates%20%3D%20(area.geometry.coordinates%20%3D%0D%0A%20%20%20%20%20%20%20%20area.geometry.type%20%3D%3D%3D%20'Polygon'%20%3F%20%5Barea.geometry.coordinates%5D%20%3A%20area.geometry.coordinates)%0D%0A%0D%0A%20%20%20%20%20%20const%20group%20%3D%20new%20Group()%0D%0A%0D%0A%20%20%20%20%20%20group.name%20%3D%20area.properties.adcode%0D%0A%20%20%20%20%20%20group.userData%20%3D%20area.properties%0D%0A%0D%0A%20%20%20%20%20%20coordinates.forEach((item%3A%20Coord%5B%5D%5B%5D)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20points%20%3D%20getPoints(item)%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%E7%BA%BF%0D%0A%20%20%20%20%20%20%20%20const%20line%20%3D%20getLine(points)%0D%0A%20%20%20%20%20%20%20%20line.userData%20%3D%20area.properties%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%E9%9D%A2%0D%0A%20%20%20%20%20%20%20%20const%20outline%20%3D%20getOutLine(points)%0D%0A%20%20%20%20%20%20%20%20outline.userData%20%3D%20area.properties%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%20%E5%8F%91%E5%85%89%E5%9C%86%E6%9F%B1%0D%0A%20%20%20%20%20%20%20%20const%20material%20%3D%20new%20MeshPhysicalMaterial(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20color%3A%200x1eb3bf%2C%0D%0A%20%20%20%20%20%20%20%20%20%20emissive%3A%200x00ff00%2C%0D%0A%20%20%20%20%20%20%20%20%20%20roughness%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20metalness%3A%200.5%0D%0A%20%20%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20%20%20const%20h%20%3D%20Math.ceil(Math.random()%20*%203)%0D%0A%20%20%20%20%20%20%20%20const%20shape%20%3D%20new%20Shape()%0D%0A%20%20%20%20%20%20%20%20const%20curve%20%3D%20new%20EllipseCurve(0%2C%200%2C%200.3%2C%200.3)%0D%0A%20%20%20%20%20%20%20%20const%20points1%20%3D%20curve.getSpacedPoints(100)%0D%0A%20%20%20%20%20%20%20%20shape.setFromPoints(points1.map(item%20%3D%3E%20new%20Vector2(item.x%2C%20item.y)))%0D%0A%20%20%20%20%20%20%20%20const%20geometry%20%3D%20new%20ExtrudeGeometry(shape%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20depth%3A%20h%0D%0A%20%20%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20%20%20const%20cylinder%20%3D%20new%20Mesh(geometry%2C%20material)%0D%0A%20%20%20%20%20%20%20%20cylinder.position.set(center%5B0%5D%2C%20center%5B1%5D%2C%201.5)%0D%0A%20%20%20%20%20%20%20%20const%20tween%20%3D%20new%20Tween(%7B%20index%3A%201%20%7D)%0D%0A%20%20%20%20%20%20%20%20%20%20.to(%7B%20index%3A%20100%20%7D%2C%201000)%0D%0A%20%20%20%20%20%20%20%20%20%20.onUpdate(t%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cylinder.scale.set(1%2C%201%2C%20t.index%20*%200.01)%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20%20%20%20%20.repeat(Infinity)%0D%0A%20%20%20%20%20%20%20%20%20%20.start()%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20cylinder.tween%20%3D%20tween%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20cylinder.isCylinder%20%3D%20true%0D%0A%20%20%20%20%20%20%20%20cylinder.userData%20%3D%20area.properties%0D%0A%0D%0A%20%20%20%20%20%20%20%20group.add(line%2C%20outline%2C%20cylinder)%0D%0A%20%20%20%20%20%20%7D)%0D%0A%0D%0A%20%20%20%20%20%20centerPoints.push(center)%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20%E5%85%89%E5%9C%88%0D%0A%20%20%20%20%20%20const%20lightRing%20%3D%20new%20LightRing(0x1eb3bf%2C%20area.properties)%0D%0A%20%20%20%20%20%20lightRing.position.set(center%5B0%5D%2C%20center%5B1%5D%2C%201.2)%0D%0A%0D%0A%20%20%20%20%20%20group.add(lightRing)%0D%0A%0D%0A%20%20%20%20%20%20const%20CSS3d%20%3D%20createCSS3DObject(area.properties.name%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20tag%3A%20'div'%2C%0D%0A%20%20%20%20%20%20%20%20class%3A%20'text'%2C%0D%0A%20%20%20%20%20%20%20%20style%3A%20%7B%20color%3A%20'%23fff'%2C%20pointerEvents%3A%20'none'%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20attrs%3A%20%7B%20id%3A%20'CSS3D-'%20%2B%20area.properties.adcode%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20position%3A%20%5Bcenter%5B0%5D%2C%20center%5B1%5D%2C%201.5%5D%2C%0D%0A%20%20%20%20%20%20%20%20scale%3A%200.04%0D%0A%20%20%20%20%20%20%7D)%0D%0A%0D%0A%20%20%20%20%20%20CSS3d.name%20%3D%20'CSS3D-'%20%2B%20area.properties.adcode%0D%0A%0D%0A%20%20%20%20%20%20group.add(CSS3d)%0D%0A%0D%0A%20%20%20%20%20%20model.add(group)%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20const%20%7B%20center%20%7D%20%3D%20getBox3(model)%0D%0A%0D%0A%20%20%2F%2F%20%20%E9%A3%9E%E7%BA%BF%0D%0A%20%20const%20flyPoints%20%3D%20centerPoints.map(item%20%3D%3E%20(%7B%0D%0A%20%20%20%20begin%3A%20%5B108.948024%2C%2034.263161%2C%201.5%5D%2C%0D%0A%20%20%20%20end%3A%20%5Bitem%5B0%5D%2C%20item%5B1%5D%2C%201.5%5D%2C%0D%0A%20%20%20%20height%3A%203%0D%0A%20%20%7D))%0D%0A%20%20const%20fly%20%3D%20new%20Fly(flyPoints%2C%20%7B%20routeColor%3A%200x1eb3bf%20%7D)%0D%0A%20%20model.add(fly)%0D%0A%0D%0A%20%20plusThree.value%20%3D%20new%20PlusThree(mapContainer.value%2C%20model%2C%20%7B%0D%0A%20%20%20%20width%3A%20680%2C%0D%0A%20%20%20%20height%3A%20400%2C%0D%0A%20%20%20%20CSSRenderer%3A%20%7B%20'3d'%3A%20true%20%7D%2C%0D%0A%20%20%20%20camera%3A%20%7B%0D%0A%20%20%20%20%20%20type%3A%20'orthographic'%2C%0D%0A%20%20%20%20%20%20range%3A%2030%2C%0D%0A%20%20%20%20%20%20position%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20x%3A%20113.90161473271833%2C%0D%0A%20%20%20%20%20%20%20%20y%3A%20-7.908343606103124%2C%0D%0A%20%20%20%20%20%20%20%20z%3A%2092.64623920580718%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20light%3A%20%7B%20directional%3A%20%7B%20intensity%3A%208%20%7D%20%7D%2C%0D%0A%20%20%20%20%2F%2F%20helper%3A%20%7B%20axesHelper%3A%20true%20%7D%2C%0D%0A%20%20%20%20render%3A%20instance%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20instance.model.traverse(item%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20if%20(item.tween%20%7C%7C%20item.tweenGroup)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20%20%20item.tween%3F.update()%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20%20%20item.tweenGroup%3F.update()%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20let%20preObj%3A%20Mesh%20%7C%20null%20%3D%20null%0D%0A%0D%0A%20%20plusThree.value.on('mousemove'%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20console.log(plusThree.value%2C%20'%20%20plusThree.value')%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20plusThree.value.on('click'%2C%20(%7B%20object%3A%20obj%20%7D)%20%3D%3E%20%7B%0D%0A%20%20%20%20console.log(obj%2C%20'obj1')%0D%0A%20%20%20%20plusThree.value.renderer.domElement.style.cursor%20%3D%20obj%20%3F%20'pointer'%20%3A%20'default'%0D%0A%0D%0A%20%20%20%20const%20pre%20%3D%20document.querySelector('.tag-active')%0D%0A%20%20%20%20if%20(pre)%20%7B%0D%0A%20%20%20%20%20%20pre.classList.remove('tag-active')%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20(preObj)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20if%20(preObj.tweenGroup)%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20preObj.tweenGroup.removeAll%20%26%26%20preObj.tweenGroup.removeAll()%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20preObj.tweenGroup%20%3D%20null%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20const%20code%20%3D%20preObj.userData.adcode%0D%0A%20%20%20%20%20%20const%20target%20%3D%20model.getObjectByName(code)!%0D%0A%20%20%20%20%20%20%2F%2F%20target%3F.scale.set(1%2C%201%2C%201)%0D%0A%20%20%20%20%20%20target.position.z%20%3D%200%0D%0A%20%20%20%20%20%20%2F%2F%20target.position.y%20%3D%200%0D%0A%20%20%20%20%20%20%3B(preObj.material%20as%20MeshLambertMaterial).color%20%3D%20new%20Color(0x004444)%0D%0A%0D%0A%20%20%20%20%20%20const%20currentCSS3D%20%3D%20target.getObjectByName('CSS3D-'%20%2B%20code)%0D%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20currentCSS3D.position.y%20-%3D%200.5%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(obj)%20%7B%0D%0A%20%20%20%20%20%20const%20code%20%3D%20obj.userData.adcode%0D%0A%20%20%20%20%20%20const%20target%20%3D%20model.getObjectByName(code)!%0D%0A%20%20%20%20%20%20const%20div%20%3D%20document.querySelector(%60%23CSS3D-%24%7Bcode%7D%60)%0D%0A%20%20%20%20%20%20if%20(!div)%20return%0D%0A%20%20%20%20%20%20div.classList.add('tag-active')%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20if%20(!obj.tweenGroup)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20group%20%3D%20new%20TweenGroup()%0D%0A%20%20%20%20%20%20%20%20const%20tween%20%3D%20new%20Tween(%7B%20z%3A%200%20%7D%2C%20group)%0D%0A%20%20%20%20%20%20%20%20%20%20.to(%7B%20z%3A%203%20%7D%2C%20100)%0D%0A%20%20%20%20%20%20%20%20%20%20.onUpdate((%7B%20z%20%7D)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20target.position.z%20%3D%20z%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20%20%20%20%20.start()%0D%0A%20%20%20%20%20%20%20%20%20%20.onComplete(()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20group.removeAll()%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(tween%2C%20'tween')%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20obj.tweenGroup%20%3D%20group%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20target.position.y%20%3D%201%0D%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%20%40typescript-eslint%2Fno-extra-semi%0D%0A%20%20%20%20%20%20%3B(obj.material%20as%20MeshLambertMaterial).color%20%3D%20new%20Color(0x1eb3bf)%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%20%40typescript-eslint%2Fno-non-null-assertion%0D%0A%20%20%20%20%20%20const%20currentCSS3D%20%3D%20target.getObjectByName('CSS3D-'%20%2B%20code)!%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20currentCSS3D.position.y%20%2B%3D%200.5%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20preObj%20%3D%20obj%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E8%83%8C%E6%99%AF%0D%0A%20%20plusThree.value.renderer.setClearColor('rgb(255%2C255%2C255)'%2C%200)%0D%0A%0D%0A%20%20const%20textureLoader%20%3D%20new%20TextureLoader()%0D%0A%20%20const%20texture%20%3D%20textureLoader.load('%2Fback1.jpg')%0D%0A%20%20texture.colorSpace%20%3D%20SRGBColorSpace%0D%0A%20%20plusThree.value.scene.background%20%3D%20texture%0D%0A%20%20%3B(plusThree.value.light.directional%20as%20DirectionalLight).shadow.mapSize.set(1024%2C%201024)%0D%0A%20%20%3B(plusThree.value.light.directional%20as%20DirectionalLight).shadow.radius%20%3D%203%0D%0A%20%20%2F%2F%20%E5%BC%80%E5%90%AF%E5%85%89%E6%BA%90%E9%98%B4%E5%BD%B1%E7%9A%84%E8%AE%A1%E7%AE%97%E5%8A%9F%E8%83%BD%0D%0A%20%20%3B(plusThree.value.light.directional%20as%20DirectionalLight).castShadow%20%3D%20true%0D%0A%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E6%B8%B2%E6%9F%93%E5%99%A8%EF%BC%8C%E5%85%81%E8%AE%B8%E5%85%89%E6%BA%90%E9%98%B4%E5%BD%B1%E6%B8%B2%E6%9F%93%0D%0A%20%20plusThree.value.renderer.shadowMap.enabled%20%3D%20true%0D%0A%20%20plusThree.value.scene.receiveShadow%20%3D%20true%0D%0A%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E7%9B%B8%E6%9C%BA%0D%0A%20%20plusThree.value.camera.lookAt(center.x%2C%20center.y%2C%200)%0D%0A%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E6%8E%A7%E5%88%B6%E5%99%A8%0D%0A%20%20plusThree.value.controls%3F.target.set(center.x%2C%20center.y%2C%200)%0D%0A%20%20plusThree.value.controls%3F.update()%0D%0A%7D)%0D%0A%3C%2Fscript%3E%0D%0A%0D%0A%3Cstyle%20lang%3D%22scss%22%3E%0D%0A.tag-active%20%7B%0D%0A%20%20color%3A%20%23def01e%20!important%3B%0D%0A%7D%0D%0A.map-container%20%3E%20div%20%7B%0D%0A%20%20left%3A%2020px%20!important%3B%0D%0A%20%20top%3A%20182px%20!important%3B%0D%0A%7D%0D%0A%3C%2Fstyle%3E%0D%0A",path:"map/index","raw-source":"%3Ctemplate%3E%0D%0A%20%20%3Cdiv%20ref%3D%22mapContainer%22%20class%3D%22map-container%22%20%2F%3E%0D%0A%3C%2Ftemplate%3E%0D%0A%0D%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0D%0A%2F*%20eslint-disable%20%40typescript-eslint%2Fban-ts-comment%20*%2F%0D%0Aimport%20type%20%7B%20ShallowRef%20%7D%20from%20'vue'%0D%0Aimport%20%7B%20ref%2C%20onMounted%2C%20shallowRef%20%7D%20from%20'vue'%0D%0Aimport%20type%20%7B%20DirectionalLight%2C%20MeshLambertMaterial%20%7D%20from%20'three'%0D%0Aimport%20%7B%0D%0A%20%20Group%2C%0D%0A%20%20Mesh%2C%0D%0A%20%20MeshPhysicalMaterial%2C%0D%0A%20%20TextureLoader%2C%0D%0A%20%20Vector2%2C%0D%0A%20%20Color%2C%0D%0A%20%20Shape%2C%0D%0A%20%20EllipseCurve%2C%0D%0A%20%20ExtrudeGeometry%2C%0D%0A%20%20SRGBColorSpace%2C%0D%0A%20%20FileLoader%0D%0A%7D%20from%20'three'%0D%0Aimport%20%7B%20PlusThree%2C%20getBox3%2C%20createCSS3DObject%20%7D%20from%20'plus-three'%0D%0Aimport%20%7B%20Tween%2C%20Group%20as%20TweenGroup%20%7D%20from%20'%40tweenjs%2Ftween.js'%0D%0Aimport%20%7B%20LightRing%20%7D%20from%20'..%2Ffly%2FLightRing2'%0D%0Aimport%20%7B%20Fly%20%7D%20from%20'..%2Ffly%2FFlyShader'%0D%0Aimport%20%7B%20getPoints%20%7D%20from%20'.%2FgetPoints'%0D%0Aimport%20%7B%20getOutLine%2C%20getLine%20%7D%20from%20'.%2Fshape'%0D%0Aimport%20type%20%7B%20Coord%20%7D%20from%20'.%2Ftype'%0D%0A%0D%0Aconst%20mapContainer%20%3D%20ref()%0D%0Aconst%20plusThree%20%3D%20shallowRef()%20as%20ShallowRef%3CPlusThree%3E%0D%0A%0D%0AonMounted(async%20()%20%3D%3E%20%7B%0D%0A%20%20const%20model%20%3D%20new%20Group()%0D%0A%20%20model.name%20%3D%20'rootModel'%0D%0A%0D%0A%20%20const%20loader%20%3D%20new%20FileLoader()%0D%0A%20%20loader.setResponseType('json')%0D%0A%0D%0A%20%20const%20data%20%3D%20(await%20loader.loadAsync('%2Fchina.json'))%20as%20any%0D%0A%0D%0A%20%20const%20centerPoints%3A%20Coord%5B%5D%20%3D%20%5B%5D%0D%0A%0D%0A%20%20%2F%2F%20%E8%AE%BF%E9%97%AE%E6%89%80%E6%9C%89%E5%9B%BD%E5%AE%B6%E8%BE%B9%E7%95%8C%E5%9D%90%E6%A0%87%E6%95%B0%E6%8D%AE%3Adata.features%0D%0A%20%20data.features.forEach((area%3A%20any)%20%3D%3E%20%7B%0D%0A%20%20%20%20%2F%2F%20%22Polygon%22%3A%E5%9B%BD%E5%AE%B6area%E6%9C%89%E4%B8%80%E4%B8%AA%E5%B0%81%E9%97%AD%E8%BD%AE%E5%BB%93%0D%0A%20%20%20%20%2F%2F%20%22MultiPolygon%22%3A%E5%9B%BD%E5%AE%B6area%E6%9C%89%E5%A4%9A%E4%B8%AA%E5%B0%81%E9%97%AD%E8%BD%AE%E5%BB%93%0D%0A%0D%0A%20%20%20%20const%20center%20%3D%20area.properties.center%0D%0A%0D%0A%20%20%20%20const%20not%20%3D%0D%0A%20%20%20%20%20%20area.properties.name%20!%3D%3D%20'%E9%A6%99%E6%B8%AF%E7%89%B9%E5%88%AB%E8%A1%8C%E6%94%BF%E5%8C%BA'%20%26%26%20area.properties.name%20!%3D%3D%20'%E6%BE%B3%E9%97%A8%E7%89%B9%E5%88%AB%E8%A1%8C%E6%94%BF%E5%8C%BA'%0D%0A%0D%0A%20%20%20%20if%20(center%20%26%26%20not)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20%E6%8A%8A%22Polygon%22%E5%92%8C%22MultiPolygon%22%E7%9A%84geometry.coordinates%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%84%E7%90%86%E4%B8%BA%E4%B8%80%E8%87%B4%0D%0A%20%20%20%20%20%20const%20coordinates%20%3D%20(area.geometry.coordinates%20%3D%0D%0A%20%20%20%20%20%20%20%20area.geometry.type%20%3D%3D%3D%20'Polygon'%20%3F%20%5Barea.geometry.coordinates%5D%20%3A%20area.geometry.coordinates)%0D%0A%0D%0A%20%20%20%20%20%20const%20group%20%3D%20new%20Group()%0D%0A%0D%0A%20%20%20%20%20%20group.name%20%3D%20area.properties.adcode%0D%0A%20%20%20%20%20%20group.userData%20%3D%20area.properties%0D%0A%0D%0A%20%20%20%20%20%20coordinates.forEach((item%3A%20Coord%5B%5D%5B%5D)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20points%20%3D%20getPoints(item)%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%E7%BA%BF%0D%0A%20%20%20%20%20%20%20%20const%20line%20%3D%20getLine(points)%0D%0A%20%20%20%20%20%20%20%20line.userData%20%3D%20area.properties%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%E9%9D%A2%0D%0A%20%20%20%20%20%20%20%20const%20outline%20%3D%20getOutLine(points)%0D%0A%20%20%20%20%20%20%20%20outline.userData%20%3D%20area.properties%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%20%E5%8F%91%E5%85%89%E5%9C%86%E6%9F%B1%0D%0A%20%20%20%20%20%20%20%20const%20material%20%3D%20new%20MeshPhysicalMaterial(%7B%0D%0A%20%20%20%20%20%20%20%20%20%20color%3A%200x1eb3bf%2C%0D%0A%20%20%20%20%20%20%20%20%20%20emissive%3A%200x00ff00%2C%0D%0A%20%20%20%20%20%20%20%20%20%20roughness%3A%200%2C%0D%0A%20%20%20%20%20%20%20%20%20%20metalness%3A%200.5%0D%0A%20%20%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20%20%20const%20h%20%3D%20Math.ceil(Math.random()%20*%203)%0D%0A%20%20%20%20%20%20%20%20const%20shape%20%3D%20new%20Shape()%0D%0A%20%20%20%20%20%20%20%20const%20curve%20%3D%20new%20EllipseCurve(0%2C%200%2C%200.3%2C%200.3)%0D%0A%20%20%20%20%20%20%20%20const%20points1%20%3D%20curve.getSpacedPoints(100)%0D%0A%20%20%20%20%20%20%20%20shape.setFromPoints(points1.map(item%20%3D%3E%20new%20Vector2(item.x%2C%20item.y)))%0D%0A%20%20%20%20%20%20%20%20const%20geometry%20%3D%20new%20ExtrudeGeometry(shape%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20depth%3A%20h%0D%0A%20%20%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20%20%20const%20cylinder%20%3D%20new%20Mesh(geometry%2C%20material)%0D%0A%20%20%20%20%20%20%20%20cylinder.position.set(center%5B0%5D%2C%20center%5B1%5D%2C%201.5)%0D%0A%20%20%20%20%20%20%20%20const%20tween%20%3D%20new%20Tween(%7B%20index%3A%201%20%7D)%0D%0A%20%20%20%20%20%20%20%20%20%20.to(%7B%20index%3A%20100%20%7D%2C%201000)%0D%0A%20%20%20%20%20%20%20%20%20%20.onUpdate(t%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cylinder.scale.set(1%2C%201%2C%20t.index%20*%200.01)%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20%20%20%20%20.repeat(Infinity)%0D%0A%20%20%20%20%20%20%20%20%20%20.start()%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20cylinder.tween%20%3D%20tween%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20cylinder.isCylinder%20%3D%20true%0D%0A%20%20%20%20%20%20%20%20cylinder.userData%20%3D%20area.properties%0D%0A%0D%0A%20%20%20%20%20%20%20%20group.add(line%2C%20outline%2C%20cylinder)%0D%0A%20%20%20%20%20%20%7D)%0D%0A%0D%0A%20%20%20%20%20%20centerPoints.push(center)%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20%E5%85%89%E5%9C%88%0D%0A%20%20%20%20%20%20const%20lightRing%20%3D%20new%20LightRing(0x1eb3bf%2C%20area.properties)%0D%0A%20%20%20%20%20%20lightRing.position.set(center%5B0%5D%2C%20center%5B1%5D%2C%201.2)%0D%0A%0D%0A%20%20%20%20%20%20group.add(lightRing)%0D%0A%0D%0A%20%20%20%20%20%20const%20CSS3d%20%3D%20createCSS3DObject(area.properties.name%2C%20%7B%0D%0A%20%20%20%20%20%20%20%20tag%3A%20'div'%2C%0D%0A%20%20%20%20%20%20%20%20class%3A%20'text'%2C%0D%0A%20%20%20%20%20%20%20%20style%3A%20%7B%20color%3A%20'%23fff'%2C%20pointerEvents%3A%20'none'%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20attrs%3A%20%7B%20id%3A%20'CSS3D-'%20%2B%20area.properties.adcode%20%7D%2C%0D%0A%20%20%20%20%20%20%20%20position%3A%20%5Bcenter%5B0%5D%2C%20center%5B1%5D%2C%201.5%5D%2C%0D%0A%20%20%20%20%20%20%20%20scale%3A%200.04%0D%0A%20%20%20%20%20%20%7D)%0D%0A%0D%0A%20%20%20%20%20%20CSS3d.name%20%3D%20'CSS3D-'%20%2B%20area.properties.adcode%0D%0A%0D%0A%20%20%20%20%20%20group.add(CSS3d)%0D%0A%0D%0A%20%20%20%20%20%20model.add(group)%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20const%20%7B%20center%20%7D%20%3D%20getBox3(model)%0D%0A%0D%0A%20%20%2F%2F%20%20%E9%A3%9E%E7%BA%BF%0D%0A%20%20const%20flyPoints%20%3D%20centerPoints.map(item%20%3D%3E%20(%7B%0D%0A%20%20%20%20begin%3A%20%5B108.948024%2C%2034.263161%2C%201.5%5D%2C%0D%0A%20%20%20%20end%3A%20%5Bitem%5B0%5D%2C%20item%5B1%5D%2C%201.5%5D%2C%0D%0A%20%20%20%20height%3A%203%0D%0A%20%20%7D))%0D%0A%20%20const%20fly%20%3D%20new%20Fly(flyPoints%2C%20%7B%20routeColor%3A%200x1eb3bf%20%7D)%0D%0A%20%20model.add(fly)%0D%0A%0D%0A%20%20plusThree.value%20%3D%20new%20PlusThree(mapContainer.value%2C%20model%2C%20%7B%0D%0A%20%20%20%20width%3A%20680%2C%0D%0A%20%20%20%20height%3A%20400%2C%0D%0A%20%20%20%20CSSRenderer%3A%20%7B%20'3d'%3A%20true%20%7D%2C%0D%0A%20%20%20%20camera%3A%20%7B%0D%0A%20%20%20%20%20%20type%3A%20'orthographic'%2C%0D%0A%20%20%20%20%20%20range%3A%2030%2C%0D%0A%20%20%20%20%20%20position%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20x%3A%20113.90161473271833%2C%0D%0A%20%20%20%20%20%20%20%20y%3A%20-7.908343606103124%2C%0D%0A%20%20%20%20%20%20%20%20z%3A%2092.64623920580718%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20light%3A%20%7B%20directional%3A%20%7B%20intensity%3A%208%20%7D%20%7D%2C%0D%0A%20%20%20%20%2F%2F%20helper%3A%20%7B%20axesHelper%3A%20true%20%7D%2C%0D%0A%20%20%20%20render%3A%20instance%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20instance.model.traverse(item%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20if%20(item.tween%20%7C%7C%20item.tweenGroup)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20%20%20item.tween%3F.update()%0D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20%20%20item.tweenGroup%3F.update()%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20let%20preObj%3A%20Mesh%20%7C%20null%20%3D%20null%0D%0A%0D%0A%20%20plusThree.value.on('mousemove'%2C%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20console.log(plusThree.value%2C%20'%20%20plusThree.value')%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20plusThree.value.on('click'%2C%20(%7B%20object%3A%20obj%20%7D)%20%3D%3E%20%7B%0D%0A%20%20%20%20console.log(obj%2C%20'obj1')%0D%0A%20%20%20%20plusThree.value.renderer.domElement.style.cursor%20%3D%20obj%20%3F%20'pointer'%20%3A%20'default'%0D%0A%0D%0A%20%20%20%20const%20pre%20%3D%20document.querySelector('.tag-active')%0D%0A%20%20%20%20if%20(pre)%20%7B%0D%0A%20%20%20%20%20%20pre.classList.remove('tag-active')%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20if%20(preObj)%20%7B%0D%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20if%20(preObj.tweenGroup)%20%7B%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20preObj.tweenGroup.removeAll%20%26%26%20preObj.tweenGroup.removeAll()%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20preObj.tweenGroup%20%3D%20null%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20const%20code%20%3D%20preObj.userData.adcode%0D%0A%20%20%20%20%20%20const%20target%20%3D%20model.getObjectByName(code)!%0D%0A%20%20%20%20%20%20%2F%2F%20target%3F.scale.set(1%2C%201%2C%201)%0D%0A%20%20%20%20%20%20target.position.z%20%3D%200%0D%0A%20%20%20%20%20%20%2F%2F%20target.position.y%20%3D%200%0D%0A%20%20%20%20%20%20%3B(preObj.material%20as%20MeshLambertMaterial).color%20%3D%20new%20Color(0x004444)%0D%0A%0D%0A%20%20%20%20%20%20const%20currentCSS3D%20%3D%20target.getObjectByName('CSS3D-'%20%2B%20code)%0D%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20currentCSS3D.position.y%20-%3D%200.5%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(obj)%20%7B%0D%0A%20%20%20%20%20%20const%20code%20%3D%20obj.userData.adcode%0D%0A%20%20%20%20%20%20const%20target%20%3D%20model.getObjectByName(code)!%0D%0A%20%20%20%20%20%20const%20div%20%3D%20document.querySelector(%60%23CSS3D-%24%7Bcode%7D%60)%0D%0A%20%20%20%20%20%20if%20(!div)%20return%0D%0A%20%20%20%20%20%20div.classList.add('tag-active')%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20if%20(!obj.tweenGroup)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20group%20%3D%20new%20TweenGroup()%0D%0A%20%20%20%20%20%20%20%20const%20tween%20%3D%20new%20Tween(%7B%20z%3A%200%20%7D%2C%20group)%0D%0A%20%20%20%20%20%20%20%20%20%20.to(%7B%20z%3A%203%20%7D%2C%20100)%0D%0A%20%20%20%20%20%20%20%20%20%20.onUpdate((%7B%20z%20%7D)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20target.position.z%20%3D%20z%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%0D%0A%20%20%20%20%20%20%20%20%20%20.start()%0D%0A%20%20%20%20%20%20%20%20%20%20.onComplete(()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20group.removeAll()%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(tween%2C%20'tween')%0D%0A%20%20%20%20%20%20%20%20%20%20%7D)%0D%0A%0D%0A%20%20%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%20%20obj.tweenGroup%20%3D%20group%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20target.position.y%20%3D%201%0D%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%20%40typescript-eslint%2Fno-extra-semi%0D%0A%20%20%20%20%20%20%3B(obj.material%20as%20MeshLambertMaterial).color%20%3D%20new%20Color(0x1eb3bf)%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%20%40typescript-eslint%2Fno-non-null-assertion%0D%0A%20%20%20%20%20%20const%20currentCSS3D%20%3D%20target.getObjectByName('CSS3D-'%20%2B%20code)!%0D%0A%0D%0A%20%20%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20%20%20currentCSS3D.position.y%20%2B%3D%200.5%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%2F%2F%20%40ts-ignore%0D%0A%20%20%20%20preObj%20%3D%20obj%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E8%83%8C%E6%99%AF%0D%0A%20%20plusThree.value.renderer.setClearColor('rgb(255%2C255%2C255)'%2C%200)%0D%0A%0D%0A%20%20const%20textureLoader%20%3D%20new%20TextureLoader()%0D%0A%20%20const%20texture%20%3D%20textureLoader.load('%2Fback1.jpg')%0D%0A%20%20texture.colorSpace%20%3D%20SRGBColorSpace%0D%0A%20%20plusThree.value.scene.background%20%3D%20texture%0D%0A%20%20%3B(plusThree.value.light.directional%20as%20DirectionalLight).shadow.mapSize.set(1024%2C%201024)%0D%0A%20%20%3B(plusThree.value.light.directional%20as%20DirectionalLight).shadow.radius%20%3D%203%0D%0A%20%20%2F%2F%20%E5%BC%80%E5%90%AF%E5%85%89%E6%BA%90%E9%98%B4%E5%BD%B1%E7%9A%84%E8%AE%A1%E7%AE%97%E5%8A%9F%E8%83%BD%0D%0A%20%20%3B(plusThree.value.light.directional%20as%20DirectionalLight).castShadow%20%3D%20true%0D%0A%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E6%B8%B2%E6%9F%93%E5%99%A8%EF%BC%8C%E5%85%81%E8%AE%B8%E5%85%89%E6%BA%90%E9%98%B4%E5%BD%B1%E6%B8%B2%E6%9F%93%0D%0A%20%20plusThree.value.renderer.shadowMap.enabled%20%3D%20true%0D%0A%20%20plusThree.value.scene.receiveShadow%20%3D%20true%0D%0A%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E7%9B%B8%E6%9C%BA%0D%0A%20%20plusThree.value.camera.lookAt(center.x%2C%20center.y%2C%200)%0D%0A%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E6%8E%A7%E5%88%B6%E5%99%A8%0D%0A%20%20plusThree.value.controls%3F.target.set(center.x%2C%20center.y%2C%200)%0D%0A%20%20plusThree.value.controls%3F.update()%0D%0A%7D)%0D%0A%3C%2Fscript%3E%0D%0A%0D%0A%3Cstyle%20lang%3D%22scss%22%3E%0D%0A.tag-active%20%7B%0D%0A%20%20color%3A%20%23def01e%20!important%3B%0D%0A%7D%0D%0A.map-container%20%3E%20div%20%7B%0D%0A%20%20left%3A%2020px%20!important%3B%0D%0A%20%20top%3A%20182px%20!important%3B%0D%0A%7D%0D%0A%3C%2Fstyle%3E%0D%0A"},{default:o(()=>[p]),_:1}),B,A(t,{source:"%3Ctemplate%3E%0D%0A%20%20%3Cdiv%20ref%3D%22flyContainer%22%20class%3D%22fly-container%22%20%2F%3E%0D%0A%3C%2Ftemplate%3E%0D%0A%0D%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0D%0Aimport%20%7B%20ref%2C%20onMounted%20%7D%20from%20'vue'%0D%0Aimport%20%7B%20PlusThree%20%7D%20from%20'plus-three'%0D%0A%2F%2F%20import%20%7B%20Fly%20%7D%20from%20'.%2FFly'%0D%0Aimport%20%7B%0D%0A%20%20Group%2C%0D%0A%20%20SphereGeometry%2C%0D%0A%20%20TextureLoader%2C%0D%0A%20%20SRGBColorSpace%2C%0D%0A%20%20MeshLambertMaterial%2C%0D%0A%20%20Mesh%2C%0D%0A%20%20Color%0D%0A%7D%20from%20'three'%0D%0Aimport%20%7B%20Fly%20%7D%20from%20'.%2FFlyShader'%0D%0Aimport%20%7B%20LightRing%20%7D%20from%20'.%2FLightRing2'%0D%0A%0D%0Aconst%20flyContainer%20%3D%20ref()%0D%0A%0D%0AonMounted(async%20()%20%3D%3E%20%7B%0D%0A%20%20const%20group%20%3D%20new%20Group()%0D%0A%0D%0A%20%20const%20geometry%20%3D%20new%20SphereGeometry(10%2C%20160%2C%20160)%0D%0A%20%20const%20texture%20%3D%20new%20TextureLoader().load('%2FEarth.png')%0D%0A%20%20texture.colorSpace%20%3D%20SRGBColorSpace%0D%0A%20%20const%20material1%20%3D%20new%20MeshLambertMaterial(%7B%0D%0A%20%20%20%20map%3A%20texture%0D%0A%20%20%7D)%0D%0A%20%20const%20mesh%20%3D%20new%20Mesh(geometry%2C%20material1)%0D%0A%20%20%2F%2F%20group.add(mesh)%0D%0A%0D%0A%20%20const%20points%20%3D%20mesh.geometry.attributes.position%0D%0A%20%20const%20count%20%3D%20mesh.geometry.attributes.position.count%0D%0A%20%20const%20getRadomPoints%20%3D%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20index%20%3D%20Math.floor(Math.random()%20*%20count)%0D%0A%20%20%20%20const%20coord%20%3D%20%5Bpoints.getX(index)%2C%20points.getY(index)%2C%20points.getZ(index)%5D%0D%0A%20%20%20%20return%20coord%0D%0A%20%20%7D%0D%0A%20%20const%20data%20%3D%20Array.from(%7B%20length%3A%2050%20%7D)%0D%0A%20%20%20%20.map(()%20%3D%3E%20(%7B%0D%0A%20%20%20%20%20%20begin%3A%20%5B0%2C%2010%2C%200%5D%2C%0D%0A%20%20%20%20%20%20end%3A%20getRadomPoints()%2C%0D%0A%20%20%20%20%20%20height%3A%203%0D%0A%20%20%20%20%7D))%0D%0A%20%20%20%20.filter(item%20%3D%3E%20item.end%5B1%5D%20%3E%202)%0D%0A%0D%0A%20%20const%20fly%20%3D%20new%20Fly(data)%0D%0A%20%20group.add(fly)%0D%0A%0D%0A%20%20const%20lightRing%20%3D%20new%20LightRing()%0D%0A%0D%0A%20%20group.add(lightRing)%0D%0A%0D%0A%20%20const%20plusThree%20%3D%20new%20PlusThree(flyContainer.value%2C%20group%2C%20%7B%0D%0A%20%20%20%20width%3A%20680%2C%0D%0A%20%20%20%20height%3A%20400%2C%0D%0A%20%20%20%20camera%3A%20%7B%0D%0A%20%20%20%20%20%20far%3A%2020000%2C%0D%0A%20%20%20%20%20%20fov%3A%2070%2C%0D%0A%20%20%20%20%20%20position%3A%20%7B%20x%3A%201%2C%20y%3A%201%2C%20z%3A%2020%20%7D%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20light%3A%20true%2C%0D%0A%20%20%20%20helper%3A%20%7B%20axesHelper%3A%20true%20%7D%2C%0D%0A%20%20%20%20render%3A%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20lightRing.tween.update()%0D%0A%20%20%20%20%20%20fly.tweenGroup.update()%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20plusThree.renderer.setClearColor(new%20Color(0x004444)%2C%200.5)%0D%0A%0D%0A%20%20console.log(plusThree%2C%20'plusThree')%0D%0A%7D)%0D%0A%3C%2Fscript%3E%0D%0A",path:"fly/index","raw-source":"%3Ctemplate%3E%0D%0A%20%20%3Cdiv%20ref%3D%22flyContainer%22%20class%3D%22fly-container%22%20%2F%3E%0D%0A%3C%2Ftemplate%3E%0D%0A%0D%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0D%0Aimport%20%7B%20ref%2C%20onMounted%20%7D%20from%20'vue'%0D%0Aimport%20%7B%20PlusThree%20%7D%20from%20'plus-three'%0D%0A%2F%2F%20import%20%7B%20Fly%20%7D%20from%20'.%2FFly'%0D%0Aimport%20%7B%0D%0A%20%20Group%2C%0D%0A%20%20SphereGeometry%2C%0D%0A%20%20TextureLoader%2C%0D%0A%20%20SRGBColorSpace%2C%0D%0A%20%20MeshLambertMaterial%2C%0D%0A%20%20Mesh%2C%0D%0A%20%20Color%0D%0A%7D%20from%20'three'%0D%0Aimport%20%7B%20Fly%20%7D%20from%20'.%2FFlyShader'%0D%0Aimport%20%7B%20LightRing%20%7D%20from%20'.%2FLightRing2'%0D%0A%0D%0Aconst%20flyContainer%20%3D%20ref()%0D%0A%0D%0AonMounted(async%20()%20%3D%3E%20%7B%0D%0A%20%20const%20group%20%3D%20new%20Group()%0D%0A%0D%0A%20%20const%20geometry%20%3D%20new%20SphereGeometry(10%2C%20160%2C%20160)%0D%0A%20%20const%20texture%20%3D%20new%20TextureLoader().load('%2FEarth.png')%0D%0A%20%20texture.colorSpace%20%3D%20SRGBColorSpace%0D%0A%20%20const%20material1%20%3D%20new%20MeshLambertMaterial(%7B%0D%0A%20%20%20%20map%3A%20texture%0D%0A%20%20%7D)%0D%0A%20%20const%20mesh%20%3D%20new%20Mesh(geometry%2C%20material1)%0D%0A%20%20%2F%2F%20group.add(mesh)%0D%0A%0D%0A%20%20const%20points%20%3D%20mesh.geometry.attributes.position%0D%0A%20%20const%20count%20%3D%20mesh.geometry.attributes.position.count%0D%0A%20%20const%20getRadomPoints%20%3D%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20index%20%3D%20Math.floor(Math.random()%20*%20count)%0D%0A%20%20%20%20const%20coord%20%3D%20%5Bpoints.getX(index)%2C%20points.getY(index)%2C%20points.getZ(index)%5D%0D%0A%20%20%20%20return%20coord%0D%0A%20%20%7D%0D%0A%20%20const%20data%20%3D%20Array.from(%7B%20length%3A%2050%20%7D)%0D%0A%20%20%20%20.map(()%20%3D%3E%20(%7B%0D%0A%20%20%20%20%20%20begin%3A%20%5B0%2C%2010%2C%200%5D%2C%0D%0A%20%20%20%20%20%20end%3A%20getRadomPoints()%2C%0D%0A%20%20%20%20%20%20height%3A%203%0D%0A%20%20%20%20%7D))%0D%0A%20%20%20%20.filter(item%20%3D%3E%20item.end%5B1%5D%20%3E%202)%0D%0A%0D%0A%20%20const%20fly%20%3D%20new%20Fly(data)%0D%0A%20%20group.add(fly)%0D%0A%0D%0A%20%20const%20lightRing%20%3D%20new%20LightRing()%0D%0A%0D%0A%20%20group.add(lightRing)%0D%0A%0D%0A%20%20const%20plusThree%20%3D%20new%20PlusThree(flyContainer.value%2C%20group%2C%20%7B%0D%0A%20%20%20%20width%3A%20680%2C%0D%0A%20%20%20%20height%3A%20400%2C%0D%0A%20%20%20%20camera%3A%20%7B%0D%0A%20%20%20%20%20%20far%3A%2020000%2C%0D%0A%20%20%20%20%20%20fov%3A%2070%2C%0D%0A%20%20%20%20%20%20position%3A%20%7B%20x%3A%201%2C%20y%3A%201%2C%20z%3A%2020%20%7D%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20light%3A%20true%2C%0D%0A%20%20%20%20helper%3A%20%7B%20axesHelper%3A%20true%20%7D%2C%0D%0A%20%20%20%20render%3A%20()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20lightRing.tween.update()%0D%0A%20%20%20%20%20%20fly.tweenGroup.update()%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20plusThree.renderer.setClearColor(new%20Color(0x004444)%2C%200.5)%0D%0A%0D%0A%20%20console.log(plusThree%2C%20'plusThree')%0D%0A%7D)%0D%0A%3C%2Fscript%3E%0D%0A"},{default:o(()=>[C]),_:1})])}const w=r(i,[["render",d]]);export{f as __pageData,w as default};
